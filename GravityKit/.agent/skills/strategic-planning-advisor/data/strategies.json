[
    {
        "id": "scale-mvp",
        "phase": "MVP (0-1k users)",
        "architecture": "Modular Monolith",
        "database": "Single SQL Instance (Managed)",
        "infrastructure": "PaaS (Vercel/Render/Heroku)",
        "best_practices": [
            "Keep it simple: Avoid microservices until necessary.",
            "Focus on feature velocity over rigorous optimization.",
            "Use comprehensive frameworks (Next.js, Django, Rails) for batteries-included benefits.",
            "Automated backups are mandatory."
        ],
        "anti_patterns": [
            "Premature optimization (caching everything, sharding DB too early).",
            "Over-engineering generic solutions for specific problems.",
            "Ignoring CI/CD completely."
        ],
        "maintenance_focus": "Clean code structure, consistent naming conventions."
    },
    {
        "id": "scale-growth",
        "phase": "Growth (1k-100k users)",
        "architecture": "Monolith with detached services (e.g., worker queues)",
        "database": "SQL with Read Replicas + Redis Caching",
        "infrastructure": "Containerization (Docker) + Cloud managed services (AWS ECS/Fargate)",
        "best_practices": [
            "Implement caching layers (Redis/Memcached) for read-heavy data.",
            "Offload background tasks (emails, report generation) to worker queues (Celery/BullMQ).",
            "Database indexing is critical for performance.",
            "Implement robust monitoring and alerting (Datadog/Sentry)."
        ],
        "anti_patterns": [
            "Synchronous processing of heavy tasks in API requests.",
            "N+1 query problems in ORM.",
            "Hardcoding configuration secrets."
        ],
        "maintenance_focus": "Refactoring hotspots, improving test coverage, database migration safety."
    },
    {
        "id": "scale-scale",
        "phase": "High Scale (100k+ users)",
        "architecture": "Microservices / Service-Oriented Architecture",
        "database": "Sharded SQL / Specialized NoSQL (Cassandra/DynamoDB)",
        "infrastructure": "Kubernetes (K8s) + Multi-region CDN",
        "best_practices": [
            "Decompose monolith into domain-specific microservices.",
            "Event-driven architecture (Kafka/RabbitMQ) for decoupling.",
            "Implement circuit breakers and bulkheads for resilience.",
            "Distributed tracing implementation."
        ],
        "anti_patterns": [
            "Distributed Monolith (tightly coupled microservices).",
            "Shared database between services.",
            "Lack of centralized logging."
        ],
        "maintenance_focus": "Automated contract testing, infrastructure as code (Terraform), SRE practices."
    },
    {
        "id": "domain-ecommerce",
        "domain": "E-commerce",
        "critical_considerations": [
            "Data Consistency: Inventory updates must be strictly transactional.",
            "Security: PCI-DSS compliance if handling payments directly (best to offload to Stripe/PayPal).",
            "SEO: Server-Side Rendering (SSR) is non-negotiable.",
            "Performance: Page load speed directly correlates to conversion rate."
        ],
        "tech_debt_warning": "Spaghetti code in pricing logic or discount engines is a nightmare to maintain. Use Strategy Pattern."
    },
    {
        "id": "domain-saas",
        "domain": "SaaS / B2B",
        "critical_considerations": [
            "Multi-tenancy: Ensure strict data isolation between tenants (Row-level security).",
            "Extensibility: Design API-first for third-party integrations.",
            "Onboarding: Invest heavily in user onboarding flows and documentation.",
            "Compliance: GDPR/SOC2 readiness from early stages."
        ],
        "tech_debt_warning": "Hardcoding tenant logic everywhere instead of using middleware/context."
    },
    {
        "id": "domain-collaborative",
        "domain": "Real-time Collaboration",
        "critical_considerations": [
            "Latency: WebSocket optimizations are key.",
            "Conflict Resolution: CRDTs (Conflict-free Replicated Data Types) or Operational Transformation.",
            "State Management: Client-side state must be robust and sync efficiently.",
            "Connectivity: Graceful degradation for offline mode."
        ],
        "tech_debt_warning": "Trusting the client too much with state authority."
    }
]